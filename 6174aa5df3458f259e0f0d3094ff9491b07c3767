{
  "comments": [
    {
      "key": {
        "uuid": "7aaa499b_a1f798f4",
        "filename": "debian/ngcp-sems.service",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2018-04-24T20:25:14Z",
      "side": 1,
      "message": "You want instead KillSignal\u003dSIGKILL",
      "revId": "6174aa5df3458f259e0f0d3094ff9491b07c3767",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7aaa499b_81f93ccb",
        "filename": "debian/ngcp-sems.service",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2018-04-25T07:44:25Z",
      "side": 1,
      "message": "Yes please, it is better/proper approach here.",
      "parentUuid": "7aaa499b_a1f798f4",
      "revId": "6174aa5df3458f259e0f0d3094ff9491b07c3767",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7aaa499b_a12af82a",
        "filename": "debian/ngcp-sems.service",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-04-25T09:04:04Z",
      "side": 1,
      "message": "\u003e Yes please, it is better/proper approach here.\n\nI merged it yesterday before seeing the comment from Guillem.\n\nThinking about it, for me it\u0027s way clearer to use ExecStop.  If I\u0027m debugging a problem I would first look for a reverse of \"Start\" (present in all units) than looking for something like KillSignal, and then having to read the doc to clearly understand what it will do.  (Since our units are usually small, I would eventually find \"KillSignal\" and figure out that it might be related to my problem, but still).\n\nBut since both of you prefer this way, I will change it.",
      "parentUuid": "7aaa499b_81f93ccb",
      "revId": "6174aa5df3458f259e0f0d3094ff9491b07c3767",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7aaa499b_a102f86d",
        "filename": "debian/ngcp-sems.service",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2018-04-25T11:19:55Z",
      "side": 1,
      "message": "I\u0027ve got your point. So far since we migrate to some component (\u0027systemd\u0027 in this case), we have to respect their best practices. From what I read about systemd, it is recommended to configure proper systemd stop signals, otherwise systemd is not aware of what ExecStop is doing with the process.\nIt changes nothing here from functionality point of view, sure.\n\nre: size, at the end, ExecStop is a rudiment from Sysv, and services should properly react in SIGTERM to terminate the state (as at the end it is what the process finally received to stop).",
      "parentUuid": "7aaa499b_a12af82a",
      "revId": "6174aa5df3458f259e0f0d3094ff9491b07c3767",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7aaa499b_c1e744ab",
        "filename": "debian/ngcp-sems.service",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2018-04-25T12:06:18Z",
      "side": 1,
      "message": "And now we have \"visibility\" issue on sems stop:\n  \nroot@sp2:~# systemctl status sems\n● ngcp-sems.service - NGCP SIP Express Media Server (SEMS)\n   Loaded: loaded (/lib/systemd/system/ngcp-sems.service; disabled; vendor preset: disabled)\n   Active: active (running) since Wed 2018-04-25 14:04:00 CEST; 18s ago\n Main PID: 12592 (sems-pbx)\n    Tasks: 37 (limit: 2376)\n   CGroup: /system.slice/ngcp-sems.service\n           └─12592 /usr/sbin/sems-pbx -E -u sems -g sems -P /run/ngcp-sems/ngcp-sems.pid -f /etc/ngcp-sems/sems.conf\nroot@sp2:~# systemctl stop sems\nroot@sp2:~# systemctl status sems\n● ngcp-sems.service - NGCP SIP Express Media Server (SEMS)\n   Loaded: loaded (/lib/systemd/system/ngcp-sems.service; disabled; vendor preset: disabled)\n   Active: failed (Result: signal) since Wed 2018-04-25 14:04:22 CEST; 1s ago\n  Process: 12592 ExecStart\u003d/usr/sbin/sems-pbx -E -u sems -g sems -P /run/ngcp-sems/ngcp-sems.pid -f /etc/ngcp-sems/sems.conf (code\u003dkilled, signal\u003dKILL)\n Main PID: 12592 (code\u003dkilled, signal\u003dKILL)\nroot@sp2:~#\n\nroot@sp2:~# ngcp-service summary | grep sems\nsems                           managed      by-monit  failed\nroot@sp2:~# \n\non inactive node we have failed sems now... reverting the changes to this commit?",
      "parentUuid": "7aaa499b_a102f86d",
      "revId": "6174aa5df3458f259e0f0d3094ff9491b07c3767",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7aaa499b_41fc543e",
        "filename": "debian/ngcp-sems.service",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2018-04-25T12:09:38Z",
      "side": 1,
      "message": "I guess adding SuccessExitStatus\u003dSIGKILL would help here",
      "parentUuid": "7aaa499b_c1e744ab",
      "revId": "6174aa5df3458f259e0f0d3094ff9491b07c3767",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    }
  ]
}